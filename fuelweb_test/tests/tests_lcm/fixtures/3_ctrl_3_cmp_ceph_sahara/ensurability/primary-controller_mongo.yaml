tasks:
  - ironic_post_swift_key:
      type: shell
  - openstack-haproxy-mysqld:
      resources: []
  - top-role-primary-mongo:
      no_puppet_run: true
  - cinder-db:
      resources: []
  - dump_rabbitmq_definitions:
      resources:
      - Dump_rabbitmq_definitions[/etc/rabbitmq/definitions.full]
  - rsync_core_puppet:
      type: sync
  - create-cinder-types:
      resources: []
  - ceilometer-controller:
      no_puppet_run: true
  - override_configuration:
      resources: []
  - ceilometer-keystone:
      no_puppet_run: true
  - ceph_create_pools:
      no_puppet_run: true
  - workloads_collector_add:
      resources: []
  - primary-openstack-network-plugins-l2:
      resources: []
  - radosgw-keystone:
      resources: []
  - virtual_ips:
      resources: []
  - primary-dns-server:
      resources: []
  - openstack-haproxy-murano:
      no_puppet_run: true
  - openstack-network-end:
      type: skipped
  - openstack-haproxy-radosgw:
      resources: []
  - openstack-haproxy-swift:
      resources: []
  - heat-db:
      resources: []
  - openstack-haproxy-neutron:
      resources: []
  - updatedb:
      no_puppet_run: true
  - ironic-db:
      no_puppet_run: true
  - plugins_rsync:
      no_puppet_run: true
  - ceilometer-radosgw-user:
      no_puppet_run: true
  - openstack-haproxy-keystone:
      resources: []
  - hosts:
      resources: []
  - primary-rabbitmq:
      resources: []
  - primary-cluster-haproxy:
      resources: []
  - openstack-network-routers:
      resources: []
  - reserved_ports:
      resources: []
  - controller_remaining_tasks:
      resources: []
  - glance-keystone:
      resources: []
  - openstack-haproxy-aodh:
      resources: []
  - murano-cfapi:
      no_puppet_run: true
  - ironic-compute:
      no_puppet_run: true
  - primary-openstack-network-agents-metadata:
      resources: []
  - cinder-keystone:
      resources: []
  - copy_keys:
      type: copy_files
  - enable_rados:
      no_puppet_run: true
  - ntp-check:
      resources: []
  - aodh-db:
      no_puppet_run: true
  - disable_keystone_service_token:
      no_puppet_run: true
  - umm:
      resources: []
  - memcached:
      resources: []
  - allocate_hugepages:
      resources: []
  - openrc-delete:
      resources:
      - File[/root/openrc]
  - plugins_setup_repositories:
      no_puppet_run: true
  - sahara-keystone:
      no_puppet_run: true
  - openstack-haproxy-sahara:
      no_puppet_run: true
  - ssl-keys-saving:
      no_puppet_run: true
  - primary-cluster:
      resources: []
  - upload_cirros:
      type: shell
  - primary-keystone:
      resources:
      - File[/root/openrc]
  - primary-openstack-network-agents-l3:
      resources: []
  - upload_configuration:
      type: upload_file
  - ssl-dns-setup:
      no_puppet_run: true
  - neutron-keystone:
      resources:
      - Keystone_endpoint[RegionOne/neutron::network]
  - logging:
      resources: []
  - ntp-client:
      resources: []
  - nova-keystone:
      resources:
      - Keystone_endpoint[RegionOne/nova::compute]
      - Keystone_endpoint[RegionOne/novav3::computev3]
  - update_hosts:
      resources: []
  - ironic-keystone:
      no_puppet_run: true
  - connectivity_tests:
      resources: []
  - primary-heat:
      resources:
      - Heat_config[keystone_authtoken/auth_uri]
  - conntrackd:
      resources: []
  - sahara-db:
      no_puppet_run: true
  - horizon:
      resources:
      - File[/var/lib/puppet/concat/_etc_openstack-dashboard_local_settings.py/fragments/50_local_settings.py]
      - File[/etc/openstack-dashboard/local_settings.py]
      - Exec[concat_/etc/openstack-dashboard/local_settings.py]
  - openstack-haproxy-ceilometer:
      no_puppet_run: true
  - openstack-network-common-config:
      resources: []
  - firewall:
      resources: []
  - apache:
      resources: []
  - globals:
      resources:
      - File[/etc/hiera/globals.yaml]
  - aodh-keystone:
      no_puppet_run: true
  - glance:
      resources:
      - Glance_swift_config[ref1/user]
      - Glance_glare_config[glance_store/swift_store_create_container_on_put]
      - Glance_glare_config[glance_store/swift_store_config_file]
      - Package[swift]
      - Glance_api_config[glance_store/default_store]
      - Glance_api_config[glance_store/swift_store_create_container_on_put]
      - Glance_swift_config[ref1/auth_address]
      - Glance_api_config[glance_store/swift_store_endpoint_type]
      - Glance_glare_config[DEFAULT/default_log_levels]
      - Glance_api_config[glance_store/stores]
      - Glance_cache_config[DEFAULT/image_cache_max_size]
      - Glance_glare_config[glance_store/default_store]
      - Glance_registry_config[DEFAULT/default_log_levels]
      - Glance_api_config[DEFAULT/notification_driver]
      - Glance_api_config[DEFAULT/default_log_levels]
      - Glance_glare_config[glance_store/swift_store_region]
      - Glance_cache_config[DEFAULT/debug]
      - Glance_glare_config[glance_store/swift_store_endpoint_type]
      - Glance_api_config[DEFAULT/debug]
      - Glance_glare_config[DEFAULT/debug]
      - Glance_api_config[glance_store/swift_store_config_file]
      - Glance_api_config[DEFAULT/show_image_direct_url]
      - Glance_glare_config[glance_store/stores]
      - Glance_api_config[glance_store/default_swift_reference]
      - Glance_glare_config[glance_store/swift_store_large_object_size]
      - Glance_registry_config[DEFAULT/debug]
      - Glance_api_config[glance_store/swift_store_large_object_size]
      - Glance_glare_config[glance_store/default_swift_reference]
      - Glance_swift_config[ref1/key]
      - Glance_glare_config[glance_store/swift_store_container]
      - Glance_api_config[glance_store/swift_store_container]
      - Glance_api_config[glance_store/swift_store_region]
  - tools:
      resources: []
  - openstack-haproxy:
      resources: []
  - cgroups:
      resources: []
  - murano-cfapi-keystone:
      no_puppet_run: true
  - aodh:
      no_puppet_run: true
  - copy_deleted_nodes:
      type: copy_files
  - openstack-haproxy-ironic:
      no_puppet_run: true
  - setup_repositories:
      resources: []
  - openstack-network-routers-ha:
      no_puppet_run: true
  - glance-db:
      resources: []
  - neutron-db:
      resources: []
  - ironic_upload_images:
      type: shell
  - nova-db:
      resources: []
  - swift-rebalance-cron:
      resources:
      - File[/usr/local/bin/swift-rings-rebalance.sh]
      - Cron[swift-rings-rebalance]
  - primary-ceph-mon:
      resources: []
  - openstack-haproxy-stats:
      resources: []
  - ironic-api:
      no_puppet_run: true
  - primary-ceph-radosgw:
      resources: []
  - dns-client:
      resources: []
  - cluster-vrouter:
      resources: []
  - murano-rabbitmq:
      no_puppet_run: true
  - api-proxy:
      resources: []
  - cluster_health:
      resources: []
  - heat-keystone:
      resources:
      - Keystone_endpoint[RegionOne/heat-cfn::cloudformation]
      - Keystone_endpoint[RegionOne/heat::orchestration]
  - openstack-haproxy-horizon:
      resources:
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_015-horizon.cfg/fragments/00_horizon_listen_block]
      - File[/etc/haproxy/conf.d/015-horizon.cfg]
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_015-horizon.cfg/fragments/01-horizon_horizon_balancermember_horizon]
      - Exec[concat_/etc/haproxy/conf.d/015-horizon.cfg]
  - openstack-network-start:
      type: skipped
  - clear_nodes_info:
      type: skipped
  - murano-db:
      no_puppet_run: true
  - copy_keys_ceph:
      type: copy_files
  - sahara:
      no_puppet_run: true
  - fuel_pkgs:
      resources: []
  - swift-keystone:
      resources:
      - Keystone_role[SwiftOperator]
      - Keystone_user[swift]
      - Keystone_endpoint[RegionOne/swift::object-store]
      - Keystone_user_role[swift@services]
      - Keystone_service[swift_s3::s3]
      - Keystone_endpoint[RegionOne/swift_s3::s3]
  - public_vip_ping:
      resources: []
  - upload_nodes_info:
      type: skipped
  - openstack-haproxy-glance:
      resources:
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_080-glance-api.cfg/fragments/00_glance-api_listen_block]
      - Exec[concat_/etc/haproxy/conf.d/080-glance-api.cfg]
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_081-glance-glare.cfg/fragments/00_glance-glare_listen_block]
      - File[/etc/haproxy/conf.d/080-glance-api.cfg]
      - Exec[concat_/etc/haproxy/conf.d/081-glance-glare.cfg]
      - File[/etc/haproxy/conf.d/081-glance-glare.cfg]
  - murano:
      no_puppet_run: true
  - ceph_ready_check:
      type: shell
  - enable_quorum:
      type: shell
  - openstack-haproxy-nova:
      resources:
      - File[/etc/haproxy/conf.d/040-nova-api.cfg]
      - File[/etc/haproxy/conf.d/170-nova-novncproxy.cfg]
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_040-nova-api.cfg/fragments/00_nova-api_listen_block]
      - Exec[concat_/etc/haproxy/conf.d/040-nova-api.cfg]
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_170-nova-novncproxy.cfg/fragments/00_nova-novncproxy_listen_block]
      - Exec[concat_/etc/haproxy/conf.d/170-nova-novncproxy.cfg]
  - openstack-network-server-config:
      resources: []
  - primary-database:
      resources:
      - File[mysql-config-file]
      - File[/root/.my.cnf]
  - openstack-haproxy-cinder:
      resources:
      - File[/etc/haproxy/conf.d/070-cinder-api.cfg]
      - Exec[concat_/etc/haproxy/conf.d/070-cinder-api.cfg]
      - File[/var/lib/puppet/concat/_etc_haproxy_conf.d_070-cinder-api.cfg/fragments/00_cinder-api_listen_block]
  - ntp-server:
      resources: []
  - murano-keystone:
      no_puppet_run: true
  - swift-proxy_storage:
      resources:
      - Swift_dispersion_config[dispersion/dispersion_coverage]
      - Ring_account_device[10.109.2.2:6002/1]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf]
      - File[/etc/swift/dispersion.conf]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/31_swift-proxy-formpost]
      - Exec[create_account]
      - Swift_dispersion_config[dispersion/auth_url]
      - Swift_dispersion_config[dispersion/dump_json]
      - Ring_account_device[10.109.2.5:6002/2]
      - Package[swift-object]
      - File[/var/lib/puppet/concat/_etc_swift_account-server.conf]
      - Ring_object_device[10.109.2.5:6000/1]
      - File[/etc/swift/swift.conf]
      - File[/var/lib/glance]
      - Service[swift-account-server]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/10_swift_server_frag-swift_server]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/35_swift_slo]
      - Ring_object_device[10.109.2.2:6000/2]
      - Package[swift-plugin-s3]
      - File[/etc/swift/account-server.conf]
      - Service[swift-account-replicator]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments.concat.out]
      - File[/var/lib/puppet/concat/_etc_swift_account-server.conf/fragments.concat.out]
      - File[/var/lib/puppet/concat/_etc_swift_account-server.conf/fragments]
      - Package[swift-container]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/35_swift_crossdomain]
      - File[/var/run/swift]
      - File[/var/lib/puppet/concat/_etc_swift_container-server.conf]
      - File[/var/lib/puppet/concat/_etc_swift_object-server.conf/fragments.concat.out]
      - Ring_object_device[10.109.2.5:6000/2]
      - Service[swift-container-replicator]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments.concat]
      - Swift_dispersion_config[dispersion/auth_user]
      - Swift_dispersion_config[dispersion/endpoint_type]
      - Ring_account_device[10.109.2.3:6002/1]
      - Service[swift-container-updater]
      - File[/var/lib/puppet/concat/_etc_swift_object-server.conf]
      - Service[swift-object-updater]
      - Exec[create_container]
      - File[/etc/swift/object-server.conf]
      - Swift_dispersion_config[dispersion/auth_version]
      - Ring_container_device[10.109.2.5:6001/2]
      - Exec[concat_/etc/rsyncd.conf]
      - Service[swift-proxy-server]
      - Swift_dispersion_config[dispersion/swift_dir]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/00_header_rsyncd_conf_header]
      - File[/etc/swift/container-server.conf]
      - Service[swift-account-auditor]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments.concat]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments]
      - Ring_container_device[10.109.2.2:6001/1]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/10_swift_backups_frag-swift_backups]
      - Swift_config[swift-constraints/max_header_size]
      - File[/etc/swift]
      - Ring_container_device[10.109.2.5:6001/1]
      - Ring_container_device[10.109.2.3:6001/1]
      - Service[swift-container-server]
      - File[/var/lib/puppet/concat/_etc_swift_object-server.conf/fragments.concat]
      - File[/var/lib/puppet/concat/_etc_swift_container-server.conf/fragments]
      - File[/var/lib/puppet/concat/_etc_swift_object-server.conf/fragments/00_swift-object-6000]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/81_swift_container_quotas]
      - File[/etc/swift/container-server/]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/26_swift_ratelimit]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/00_swift_proxy]
      - File[/var/cache/swift]
      - File[/var/lib/puppet/concat/_etc_swift_account-server.conf/fragments.concat]
      - Ring_container_device[10.109.2.2:6001/2]
      - File[/var/lib/swift]
      - File[/etc/xinetd.d/rsync]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/10_account_frag-account]
      - Swift_dispersion_config[dispersion/concurrency]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/22_swift_authtoken]
      - Swift_config[swift-hash/swift_hash_path_suffix]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/80_swift_account_quotas]
      - Swift_dispersion_config[dispersion/retries]
      - Package[swift-account]
      - File[/etc/swift/proxy-server.conf]
      - Service[swift-account-reaper]
      - Exec[concat_/etc/swift/container-server.conf]
      - File[/var/lib/puppet/concat/_etc_swift_container-server.conf/fragments.concat]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/10_object_frag-object]
      - File[/var/lib/puppet/concat/_etc_swift_container-server.conf/fragments/00_swift-container-6001]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/25_swift_healthcheck]
      - Ring_account_device[10.109.2.5:6002/1]
      - Ring_object_device[10.109.2.3:6000/1]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/23_swift_cache]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/29_swift-proxy-tempurl]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/27_swift_swift3]
      - Exec[create_object]
      - Ring_object_device[10.109.2.2:6000/1]
      - Swift_dispersion_config[dispersion/auth_key]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments.concat.out]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/28_swift_s3token]
      - File[/var/lib/puppet/concat/_etc_swift_object-server.conf/fragments]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/32_swift-proxy-staticweb]
      - Exec[concat_/etc/swift/account-server.conf]
      - Service[swift-container-auditor]
      - File[/var/lib/glance/node]
      - Service[swift-container-sync]
      - Ring_object_device[10.109.2.3:6000/2]
      - Exec[concat_/etc/swift/proxy-server.conf]
      - Service[swift-object-replicator]
      - Ring_container_device[10.109.2.3:6001/2]
      - File[/etc/rsyncd.conf]
      - Package[swift-proxy]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/79_swift_keystone]
      - Service[swift-object-auditor]
      - File[/etc/swift/account-server/]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf]
      - Ring_account_device[10.109.2.3:6002/2]
      - File[/var/lib/puppet/concat/_etc_swift_account-server.conf/fragments/00_swift-account-6002]
      - Ring_account_device[10.109.2.2:6002/2]
      - File[/var/lib/puppet/concat/_etc_rsyncd.conf/fragments/10_container_frag-container]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments]
      - File[/var/lib/puppet/concat/_etc_swift_container-server.conf/fragments.concat.out]
      - Service[swift-object-server]
      - Exec[concat_/etc/swift/object-server.conf]
      - File[/etc/swift/object-server/]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/24_swift_catch_errors]
      - File[/var/lib/puppet/concat/_etc_swift_proxy-server.conf/fragments/21_swift_bulk]
  - primary-openstack-network-agents-dhcp:
      resources:
      - Neutron_dhcp_agent_config[DEFAULT/debug]
  - openstack-haproxy-heat:
      no_puppet_run: true
  - primary-openstack-controller:
      resources:
      - Nova_config[DEFAULT/quota_driver]
      - Nova_config[DEFAULT/debug]
      - Nova_config[DEFAULT/scheduler_default_filters]
      - Nova_config[DEFAULT/default_log_levels]
  - openstack-cinder:
      resources:
      - Cinder_config[DEFAULT/scheduler_default_filters]
      - Cinder_config[DEFAULT/default_log_levels]
      - Cinder_config[DEFAULT/debug]
  - keystone-db:
      resources:
      - File[/root/.my.cnf]
  - sync_time:
      type: shell
  - configuration_symlink:
      type: shell
  - openstack-network-server-nova:
      resources: []
  - copy_haproxy_keys:
      type: copy_files
  - openstack-network-networks:
      resources: []
  - ssl-add-trust-chain:
      no_puppet_run: true